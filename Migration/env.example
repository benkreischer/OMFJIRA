# ============================================================================
# JIRA MIGRATION TOOLKIT - Environment Variables Example
# ============================================================================
# Copy this file to .env and update with your actual values
# This file contains all configurable environment variables for the migration toolkit

# ============================================================================
# SOURCE JIRA ENVIRONMENT
# ============================================================================
# Source Jira instance details (where data is being migrated FROM)
SOURCE_JIRA_URL=https://your-source.atlassian.net/
SOURCE_JIRA_USERNAME=your-email@company.com
SOURCE_JIRA_API_TOKEN=your-api-token-here

# ============================================================================
# TARGET JIRA ENVIRONMENT  
# ============================================================================
# Target Jira instance details (where data is being migrated TO)
TARGET_JIRA_URL=https://your-target.atlassian.net/
TARGET_JIRA_USERNAME=your-email@company.com
TARGET_JIRA_API_TOKEN=your-api-token-here

# ============================================================================
# PROJECT CONFIGURATION
# ============================================================================
# Project details for migration
PROJECT_NAME=Your Project Name
PROJECT_KEY=YOUR
TARGET_PROJECT_KEY=YOUR1
TARGET_PROJECT_NAME=Your Project Name Sandbox

# ============================================================================
# MIGRATION SETTINGS
# ============================================================================
# Core migration toggles
MIGRATION_DRY_RUN=false
MIGRATION_MIGRATE_SPRINTS=true
MIGRATION_MIGRATE_ATTACHMENTS=true
MIGRATION_MIGRATE_COMMENTS=true
MIGRATION_MIGRATE_LINKS=true
MIGRATION_MIGRATE_CUSTOM_FIELDS=true
MIGRATION_MIGRATE_LEGACY_KEYS=true
MIGRATION_GENERATE_PDF_REPORTS=false

# ============================================================================
# DELETION SAFEGUARDS
# ============================================================================
# WARNING: These settings control destructive operations
# Set to true ONLY if you want to delete existing data before migration
DELETE_TARGET_ISSUES_BEFORE_IMPORT=false
DELETE_TARGET_COMPONENTS_BEFORE_IMPORT=false
DELETE_TARGET_VERSIONS_BEFORE_IMPORT=false
DELETE_TARGET_BOARDS_BEFORE_IMPORT=false

# ============================================================================
# ANALYSIS SETTINGS
# ============================================================================
# Controls how much data to analyze and export
ANALYSIS_MAX_ISSUES_TO_ANALYZE=50000
ANALYSIS_INCLUDE_CLOSED_ISSUES=false
ANALYSIS_INCLUDE_SUBTASKS=true
ANALYSIS_BATCH_SIZE=100
ANALYSIS_RETRY_ATTEMPTS=3

# ============================================================================
# OUTPUT SETTINGS
# ============================================================================
# Logging and reporting configuration
OUTPUT_LOG_LEVEL=INFO
OUTPUT_GENERATE_HTML_REPORT=true
OUTPUT_GENERATE_CSV_REPORT=true
OUTPUT_OPEN_REPORT_IN_BROWSER=false
OUTPUT_DIRECTORY=./out
OUTPUT_LOG_DIRECTORY=./out/logs

# ============================================================================
# CONFLUENCE INTEGRATION (Optional)
# ============================================================================
# If you want to push migration reports to Confluence
CONFLUENCE_URL=https://your-company.atlassian.net/wiki/
CONFLUENCE_USERNAME=your-email@company.com
CONFLUENCE_API_TOKEN=your-confluence-api-token
CONFLUENCE_SPACE_KEY=YOURSPACE

# ============================================================================
# ADVANCED SETTINGS
# ============================================================================
# API timeout and retry settings
API_TIMEOUT_SECONDS=30
API_MAX_RETRIES=3
API_RETRY_DELAY_SECONDS=2

# Custom field mappings (comma-separated)
# Format: source_field_id:target_field_id
CUSTOM_FIELD_MAPPINGS=customfield_10026:customfield_10058,customfield_10022:customfield_10025

# Rich text custom fields (comma-separated)
RICH_TEXT_CUSTOM_FIELDS=customfield_10027,customfield_10244,customfield_10394

# Fields that don't exist in target (will be appended to description)
NO_FIELD_EXISTS_FIELDS=customfield_10001,customfield_10002,customfield_10003

# ============================================================================
# STATUS MAPPING
# ============================================================================
# Map source statuses to target statuses
# Format: SOURCE_STATUS:TARGET_STATUS
STATUS_MAPPING_BACKLOG=Backlog
STATUS_MAPPING_ANALYSIS=Analysis
STATUS_MAPPING_ACCEPTANCE=Acceptance
STATUS_MAPPING_IN_PROGRESS=In Progress
STATUS_MAPPING_DONE=Done

# ============================================================================
# PRIORITY MAPPING
# ============================================================================
# Map source priorities to target priorities
PRIORITY_MAPPING_HIGHEST=Highest
PRIORITY_MAPPING_HIGH=High
PRIORITY_MAPPING_MEDIUM=Medium
PRIORITY_MAPPING_LOW=Low
PRIORITY_MAPPING_LOWEST=Lowest

# ============================================================================
# ISSUE TYPE MAPPING
# ============================================================================
# Map source issue types to target issue types
ISSUE_TYPE_MAPPING_EPIC=Epic
ISSUE_TYPE_MAPPING_STORY=Story
ISSUE_TYPE_MAPPING_TASK=Task
ISSUE_TYPE_MAPPING_BUG=Bug
ISSUE_TYPE_MAPPING_SUBTASK=Sub-task

# ============================================================================
# COMPONENT MAPPING
# ============================================================================
# Map source components to target components
# Format: SOURCE_COMPONENT:TARGET_COMPONENT
COMPONENT_MAPPING_FRONTEND=Frontend
COMPONENT_MAPPING_BACKEND=Backend
COMPONENT_MAPPING_DATABASE=Database

# ============================================================================
# VERSION MAPPING
# ============================================================================
# Map source versions to target versions
# Format: SOURCE_VERSION:TARGET_VERSION
VERSION_MAPPING_V1_0=1.0
VERSION_MAPPING_V2_0=2.0

# ============================================================================
# USER MAPPING
# ============================================================================
# Map source users to target users
# Format: SOURCE_EMAIL:TARGET_EMAIL
USER_MAPPING_olduser@company.com=newuser@company.com

# ============================================================================
# NOTIFICATION SETTINGS
# ============================================================================
# Email notifications (if implemented)
NOTIFICATION_EMAIL_ENABLED=false
NOTIFICATION_EMAIL_SMTP_SERVER=smtp.company.com
NOTIFICATION_EMAIL_SMTP_PORT=587
NOTIFICATION_EMAIL_USERNAME=notifications@company.com
NOTIFICATION_EMAIL_PASSWORD=your-email-password
NOTIFICATION_EMAIL_FROM=notifications@company.com
NOTIFICATION_EMAIL_TO=admin@company.com

# ============================================================================
# DEBUGGING AND DEVELOPMENT
# ============================================================================
# Enable debug logging
DEBUG_ENABLED=false
DEBUG_VERBOSE_LOGGING=false
DEBUG_SAVE_API_RESPONSES=false

# Migration log file (set by the system)
MIGRATION_LOG_FILE=./out/logs/migration.log

# ============================================================================
# USAGE NOTES
# ============================================================================
# 1. Copy this file to .env and update with your actual values
# 2. Never commit .env files to version control (add to .gitignore)
# 3. Use strong, unique API tokens for security
# 4. Test with DRY_RUN=true before running actual migrations
# 5. Review deletion safeguards carefully before enabling
# 6. Custom field mappings should match your Jira instance configuration
# 7. Status, priority, and issue type mappings should match your target Jira
# 8. Component and version mappings are optional but recommended
# 9. User mappings help preserve assignee relationships
# 10. All boolean values should be lowercase: true/false
